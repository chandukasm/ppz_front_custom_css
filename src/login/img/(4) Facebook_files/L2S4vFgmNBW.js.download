if (self.CavalryLogger) { CavalryLogger.start_js(["V3H+0"]); }

__d("CometNotificationsDropdownQuery.graphql",["RelayHooks"],(function(a,b,c,d,e,f){"use strict";a=b("RelayHooks").PreloadableQueryRegistry;c=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"environment",type:"NotificationsStoriesEnvironmentConstants!"},{defaultValue:null,kind:"LocalArgument",name:"scale",type:"Float!"},{defaultValue:null,kind:"LocalArgument",name:"thinClientEnabled",type:"Boolean!"}],b={kind:"Variable",name:"environment",variableName:"environment"},c={alias:null,args:[b],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},d={kind:"Variable",name:"first",variableName:"count"},e={kind:"Literal",name:"notif_query_flags",value:["IS_COMET"]},f={kind:"Literal",name:"source",value:"unknown"};b=[b,d,e,f];var g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h=[{kind:"Literal",name:"location",value:"summary"}],i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},l={alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n=[i],o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl"},q={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex"},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page"},s={kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group"},t={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},w={alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[t,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[j,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[t,u,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},y={alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[t,u,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[j,g,{kind:"InlineFragment",selections:[m],type:"User"}],storageKey:null}],storageKey:null};v={alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[v],storageKey:null};var z={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},B={alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},D={alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'},E={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[j,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment"}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null},G={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},J={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]},K={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},L={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},M={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[j,g],storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null};d=[{kind:"Variable",name:"environment_alias_override",variableName:"environment"},d,{kind:"Literal",name:"notif_cache_ids",value:[]},e,f];e={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsDropdownQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"thinClientEnabled",variableName:"thinClientEnabled"}],kind:"FragmentSpread",name:"CometNotificationsListWrapper_viewer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsDropdownQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"thinClientEnabled",kind:"Condition",passingValue:!1,selections:[c,{alias:null,args:b,concreteType:"NotificationsConnection",kind:"LinkedField",name:"notifications",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:h,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[i,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[g,j,k,l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:n,storageKey:null},o],type:"User"},p,q,r,s],storageKey:null},t,u],storageKey:null},w,x,y],storageKey:'title(location:"summary")'},v,z,{alias:null,args:null,kind:"ScalarField",name:"notif_sent_time",storageKey:null},A,k,B,C,D,E,F,G,H,{alias:null,args:null,kind:"ScalarField",name:"sort_keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eligible_buckets",storageKey:null},{alias:null,args:null,concreteType:"NotifBucketConfig",kind:"LinkedField",name:"bucket_config",plural:!0,selections:[I,{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_seen",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_seen_time",storageKey:null},j,J],storageKey:null},K],storageKey:null},L],storageKey:null},{alias:null,args:b,filters:[],handle:"connection",key:"CometNotificationsList_notifications",kind:"LinkedHandle",name:"notifications"},M,N]},{condition:"thinClientEnabled",kind:"Condition",passingValue:!0,selections:[c,{alias:null,args:d,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},{kind:"InlineFragment",selections:[I,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],type:"NotifPageBucketHeaderRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[C,g,e,A,G],storageKey:null}],type:"NotifPageCachedNotificationRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[C,A,g,e,z,D,E,{alias:null,args:h,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[i,w,x,y,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[j,g,k,l,p,q,r,{kind:"InlineFragment",selections:[o],type:"User"},s],storageKey:null},t,u],storageKey:null}],storageKey:'title(location:"summary")'},v,k,F,G,B,H,J],storageKey:null}],type:"NotifPageNotificationRow"}],storageKey:null},K],storageKey:null},L],storageKey:null},{alias:null,args:d,filters:[],handle:"comet_notifications_thin_client",key:"CometNotificationsRowList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},M,N]},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"new_notification",plural:!1,selections:[g],storageKey:null}]}],storageKey:null}]},params:{id:"2799533336791075",metadata:{relayPreloadable:!0},name:"CometNotificationsDropdownQuery",operationKind:"query",text:null}}}();c.params.id!=null&&a.set(c.params.id,c);e.exports=c}),null);
__d("CometNotificationsRowListPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:[],kind:"LocalArgument",name:"notif_cache_ids",type:"[ID!]"},{defaultValue:null,kind:"LocalArgument",name:"environment",type:"NotificationsStoriesEnvironmentConstants"},{defaultValue:null,kind:"LocalArgument",name:"scale",type:"Float"}],b={kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"},c=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"environment_alias_override",variableName:"environment"},{kind:"Variable",name:"first",variableName:"count"},b,{kind:"Literal",name:"notif_query_flags",value:["IS_COMET"]},{kind:"Literal",name:"source",value:"unknown"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},j={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},n={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsRowListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},b],kind:"FragmentSpread",name:"CometNotificationsRowList_viewer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsRowListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:c,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e],storageKey:null}],type:"NotifPageBucketHeaderRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[f,g,h,i,j],storageKey:null}],type:"NotifPageCachedNotificationRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[f,i,g,h,{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"location",value:"summary"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e,{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[k,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[k,l,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[k,l,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[d,g,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,g,n,{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page"},{kind:"InlineFragment",selections:[o],type:"User"},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group"}],storageKey:null},k,l],storageKey:null}],storageKey:'title(location:"summary")'},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[m],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null},j,{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:[],handle:"comet_notifications_thin_client",key:"CometNotificationsRowList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}]},params:{id:"2816054991812788",metadata:{derivedFrom:"CometNotificationsRowList_viewer",isRefetchableQuery:!0},name:"CometNotificationsRowListPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometNotificationsRowList_viewer.graphql",["CometNotificationsRowListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["notifications_page"],c={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:[],kind:"LocalArgument",name:"notif_cache_ids",type:"[ID!]"},{kind:"RootArgument",name:"environment",type:"NotificationsStoriesEnvironmentConstants"},{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["viewer"],operation:b("CometNotificationsRowListPaginationQuery.graphql")}},name:"CometNotificationsRowList_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:"notifications_page",args:null,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"__CometNotificationsRowList_notifications_page_comet_notifications_thin_client",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],type:"NotifPageBucketHeaderRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[c,d,e,f,{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}],storageKey:null}],type:"NotifPageCachedNotificationRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[c,f,d,e,{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_notification"}],storageKey:null}],type:"NotifPageNotificationRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],type:"Viewer"}}();e.exports=a}),null);
__d("CometNotificationsDropdown.react",["fbt","CometErrorBoundary.react","CometHero.react","CometNotificationsContext","CometNotificationsInteractionLogger","CometNotificationsInteractionLoggingContext","CometNotificationsListWrapper.react","CometNotificationsRenderLocations","CometRelay","CometTopNavListDropdown.react","React","clearTimeout","setTimeout","unrecoverableViolation","CometNotificationsDropdownQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext,j=b("CometNotificationsInteractionLoggingContext").useInteractionLoggingRefs;b("CometRelay").graphql;var k=b("CometRelay").usePreloadedQuery,l=b("React");c=b("React");var m=c.useContext,n=c.useEffect,o=c.useMemo,p=1e4,q=h!==void 0?h:h=b("CometNotificationsDropdownQuery.graphql"),r=function(){var a=m(i),c=a.notifsLoadAttemptTimeoutRef,d=a.notifsLoadCompleteRef;b("CometNotificationsInteractionLogger").start("dropdown");n(function(){var a=b("setTimeout")(function(){b("CometNotificationsInteractionLogger").timeout()},p);c.current=a;return function(){b("clearTimeout")(a),d.current||b("CometNotificationsInteractionLogger").cancel()}},[c,d])};function s(a){r();var c=k(q,a.queries.notificationsDropdownQueryReference);c=c==null?void 0:c.viewer;if(c==null)throw b("unrecoverableViolation")("viewer cannot be null when querying for notifications","comet_notifications");var d=o(function(){return{renderLocation:b("CometNotificationsRenderLocations").DROPDOWN}},[]);return l.jsxs(b("CometTopNavListDropdown.react"),{label:g._("Notifications"),name:"NotificationList",children:[l.jsx(b("CometHero.react"),{description:"NotificationList"}),l.jsx(b("CometNotificationsContext").Provider,{value:d,children:l.jsx(b("CometNotificationsListWrapper.react"),{onClose:a.props.onClose,viewer:c})})]})}function a(a){var c=j();return l.jsx(b("CometErrorBoundary.react"),{fallback:null,onError:function(a){c.notifsLoadCompleteRef&&(c.notifsLoadCompleteRef.current=!0),b("CometNotificationsInteractionLogger").error(a)},children:l.jsx(i.Provider,{value:c,children:l.jsx(s,babelHelpers["extends"]({},a))})})}e.exports=a}),null);
__d("CometNotificationsRowList.react",["fbt","requireDeferred","CometErrorBoundary.react","CometInfiniteScrollSuspenseList.react","CometListItemGlimmer.react","CometNoNotifications.react","CometNotificationsContext","CometNotificationsFocusTable.react","CometNotificationsInteractionLogger","CometNotificationsInteractionLoggingContext","CometNotificationsListItem.react","CometNotificationsRenderLocations","CometNotificationsScrollHoldingContainer.react","CometNotificationsUpdateAllSeenStateMutation","CometOnRefresh.react","CometRelay","FriendingCometFriendRequestsMarkAllSeenMutation","GriffinTabOpenFalcoEvent","HiddenSubtreeContext","JSTracing","React","TabbableScopeQuery.react","TetraUnitHeader.react","XCometNotificationsControllerRouteBuilder","clearTimeout","cometRouteMatcher","gkx","recoverableViolation","setupNotificationsSubscription","stylex","useCometInteractionTracing","useHandleMarkAllAsSeen","useSimpleImpression","useSuspenseTransition","useVisibilityObserver","CometNotificationsRowList_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext,j=b("requireDeferred")("CometNotificationsRankingErrorFalcoEvent"),k=b("CometNotificationsUpdateAllSeenStateMutation").CometNotificationsUpdateAllSeenStateMutation,l=b("CometOnRefresh.react").useOnRefresh;b("CometRelay").graphql;var m=b("CometRelay").usePaginationFragment,n=b("CometRelay").useRelayEnvironment,o=b("requireDeferred")("NotifListBottomCollisionFalcoEvent"),p=b("React");c=b("React");var q=c.useCallback,r=c.useContext,s=c.useEffect,t=c.useImperativeHandle,u=c.useMemo,v=c.useRef,w=c.useState,x=b("cometRouteMatcher").useRouteUrlMatcher,y="MAIN_SURFACE",z=function(a,c,d){if(a.current.size===0||d==null)return;k(c,{environment:y,input:{environment:y,is_comet:!0,latest_time_sent:d,notif_ids:Array.from(a.current),source:"unknown",update_type:"read"}},{onError:function(a){b("recoverableViolation")("Mark all as read mutation failed with an error: ","Notifications",{error:a})},onSuccess:function(){}})},A={timeoutMs:45*1e3};function aa(a){b("recoverableViolation")("[CometNotificationsRowList] CometNotificationsListItem suffered an uncaught error","comet_notifications",{error:a})}function a(a,c){var d=n(),e=b("useSuspenseTransition")(A),f=e[0],k=e[1],y=a.isFromPageNotification,B=a.onClose,C=b("gkx")("1126689");e=m(h!==void 0?h:h=b("CometNotificationsRowList_viewer.graphql"),a.viewer);a=e.data;var D=e.hasNext,E=e.isLoadingNext,F=e.loadNext,G=e.refetch,H=a.last_update_timestamp,I=a.actor,J=(e=(e=a.notifications_page)==null?void 0:e.edges)!=null?e:[];e=J.find(function(a){a=a.node;return a&&a.row_type==="NOTIFICATION"});e=e&&((e=e.node)==null?void 0:(e=e.notif)==null?void 0:e.id);var K=r(b("CometNotificationsContext")),L=K.renderLocation===b("CometNotificationsRenderLocations").RAIL,M=K.renderLocation===b("CometNotificationsRenderLocations").DROPDOWN?void 0:"self";K=x();var N=K(b("XCometNotificationsControllerRouteBuilder").buildURL({}).toString()).selectedRoot,O=v(new Set());t(c,function(){return{markAllNotificationsAsRead:function(){z(O,d,H)}}});K=q(function(){if(C)return;b("JSTracing").clear(function(){b("FriendingCometFriendRequestsMarkAllSeenMutation").commit(d,{}),b("GriffinTabOpenFalcoEvent").log(function(){return{}})})},[d,C]);b("useSimpleImpression")(K);var P=b("useHandleMarkAllAsSeen")(O,d,H);s(function(){return function(){P.dispose()}},[P]);var Q=v(J.length);s(function(){Q.current=J.length},[J.length]);var R=r(i);s(function(){if(!k){var a=R.notifsLoadAttemptTimeoutRef,c=R.notifsLoadCompleteRef;a&&b("clearTimeout")(a.current);c&&(c.current=!0);b("CometNotificationsInteractionLogger").success(Q.current)}},[R,k,Q]);c=q(function(){if(k)return;f(function(){G({},{fetchPolicy:"network-only"})})},[k,G,f]);l(c);var S=b("useCometInteractionTracing")(30605314,"fluid","TAIL_LOAD");K=q(function(){if(E||!D)return;o.onReady(function(a){return a.log(function(){return{}})});S(function(){F(10)})},[E,D,S,F]);var T=u(function(){return J.map(function(a){a=a.node;var b={};if(a&&a.row_type==="NOTIFICATION"){var c;((c=a.notif)==null?void 0:c.notif_cache_id)!=null&&(b.notif_cache_id=a.notif.notif_cache_id);((c=a.notif)==null?void 0:c.id)!=null&&(b.id=a.notif.id)}return b})},[J]),U=J.length,V=a==null?void 0:a.notifications_unseen_count;c=w(null);var W=c[0],X=c[1],Y=r(b("HiddenSubtreeContext")).hiddenOrBackgrounded;a=b("useVisibilityObserver")({onHidden:function(){return X(!1)},onVisible:function(){return X(!0)}});s(function(){var a=!1,c=new Set();T.forEach(function(b){b.notif_cache_id!=null&&c.add(b.notif_cache_id),b.id!=null&&O.current.add(b.id),(b==null?void 0:b.seen_state)==="UNSEEN_AND_UNREAD"&&(a=!0)});var e=V!=null&&V>0;W===!0&&!Y&&(e||a)&&P();e=U||15;var f=b("setupNotificationsSubscription")(d,{count:e,receivedNotifications:c});return function(){f.dispose()}},[T,d,U,V,P,Y,W]);c=u(function(){var a=null,c=[],d=new Map();J.forEach(function(e,f){f=e.node;if(!f)return;e=f.row_type;switch(e){case"NOTIFICATION":e=f.notif;if(!e)return;if(a==="PRIORITY_INBOX"){var g=e.notif_id,h=e==null?void 0:e.seen_state;g!=null&&h!=null&&d.set(g,h)}c.push(p.jsx(b("CometErrorBoundary.react"),{fallback:null,onError:aa,children:p.jsx(b("CometNotificationsListItem.react"),{actor:I,isFromPageNotification:y,notification:e,onClose:B,replace:L&&!N?!0:void 0,routeTarget:N?"content":M})},e.id));break;case"BUCKET_HEADER":a=f==null?void 0:f.bucket_type;c.push(p.jsx("div",{className:"muag1w35",children:p.jsx(b("TetraUnitHeader.react"),{headline:(h=f==null?void 0:(g=f.title)==null?void 0:g.text)!=null?h:"",level:3,testid:void 0})},(g=f==null?void 0:(e=f.title)==null?void 0:e.text)!=null?g:""));break;default:break}});return[c,d]},[I,J,y,L,N,M,B]);var ba=c[0],Z=c[1],$=Z.values().next().value==="UNSEEN_AND_UNREAD";s(function(){!Y&&V!=null&&V>0&&!$&&j.onReady(function(a){a.log(function(){return{bucketed_notifs:Object.fromEntries(Z),unseen_count:V}})})},[$,Y,Z,V]);return p.jsxs("div",{"data-testid":void 0,ref:a,role:"grid",children:[k&&p.jsx(b("CometListItemGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:1}),J.length>0?p.jsx(b("CometNotificationsFocusTable.react"),{allowModifiers:!0,label:g._("Notifications"),tabScopeQuery:b("TabbableScopeQuery.react"),wrapXToNextLine:!0,children:p.jsx(b("CometNotificationsScrollHoldingContainer.react"),{firstNotificationID:e,children:p.jsx(b("CometInfiniteScrollSuspenseList.react"),{hasMore:D,isLoading:E,listGlimmer:p.jsx(b("CometListItemGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:2}),onLoadMore:K,children:ba.filter(Boolean)})})}):p.jsx(b("CometNoNotifications.react"),{})]})}e.exports=p.forwardRef(a)}),null);